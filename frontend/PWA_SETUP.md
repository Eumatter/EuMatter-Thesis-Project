# Progressive Web App (PWA) Setup

EuMatter has been configured as a Progressive Web App (PWA), enabling users to install it on their devices and use it offline.

## Features Implemented

### ✅ Core PWA Features

1. **Web App Manifest** (`manifest.json`)
   - App name, description, and branding
   - Theme colors matching the app design (#800000 maroon)
   - Icons for different device sizes
   - App shortcuts for quick access

2. **Service Worker** (Auto-generated by vite-plugin-pwa)
   - Offline functionality
   - Asset caching for faster load times
   - Automatic updates when new versions are available
   - Smart caching strategies:
     - **NetworkFirst** for API calls (24-hour cache)
     - **CacheFirst** for images (30-day cache)
     - **StaleWhileRevalidate** for static resources (7-day cache)

3. **Install Prompt Component**
   - Automatic install button for supported browsers
   - iOS-specific installation instructions
   - Detects if app is already installed

4. **Meta Tags**
   - Apple-specific meta tags for iOS devices
   - Theme color configuration
   - Viewport optimization

## Installation Instructions

### For Users

#### Desktop (Chrome, Edge, Firefox)
1. Visit the app in your browser
2. Look for the install icon in the address bar
3. Click "Install" or use the floating "Install App" button
4. The app will be added to your desktop/home screen

#### Mobile (Android)
1. Visit the app in Chrome
2. Tap the menu (three dots)
3. Select "Add to Home screen" or use the install prompt
4. The app will appear on your home screen

#### Mobile (iOS)
1. Visit the app in Safari
2. Tap the Share button
3. Select "Add to Home Screen"
4. The app will appear on your home screen

## Development

### Icons Required

You need to create two icon files in the `public` directory:
- `icon-192x192.png` (192x192 pixels)
- `icon-512x512.png` (512x512 pixels)

See `public/generate-icons.md` for detailed instructions.

### Testing PWA Features

1. **Build the app:**
   ```bash
   npm run build
   npm run preview
   ```

2. **Test in browser:**
   - Open Chrome DevTools
   - Go to Application tab
   - Check "Service Workers" section
   - Check "Manifest" section
   - Test offline mode in Network tab

3. **Test installation:**
   - Use the install button in the app
   - Verify app works offline
   - Check app appears in applications list

### Service Worker Updates

The service worker automatically updates when:
- New version is deployed
- User visits the app (checks for updates in background)
- User can manually refresh to get latest version

### Configuration

PWA settings are configured in `vite.config.js`:
- Cache strategies
- Icon sizes
- Manifest properties
- Service worker behavior

## Browser Support

- ✅ Chrome/Edge (Desktop & Mobile)
- ✅ Firefox (Desktop & Mobile)
- ✅ Safari (iOS 11.3+)
- ✅ Samsung Internet
- ⚠️ Safari (Desktop) - Limited support

## Troubleshooting

### Service Worker Not Registering
- Ensure you're using HTTPS (required for production)
- Check browser console for errors
- Clear browser cache and service workers

### Icons Not Showing
- Verify icon files exist in `public/` directory
- Check icon paths in `manifest.json`
- Ensure icons are proper PNG format

### Install Prompt Not Appearing
- User must visit site at least twice
- Browser must support PWA
- App must meet PWA criteria (HTTPS, manifest, service worker)

## Production Deployment

1. **Create icons** (see `public/generate-icons.md`)
2. **Build the app:**
   ```bash
   npm run build
   ```
3. **Deploy the `dist/` folder** to your hosting service
4. **Ensure HTTPS** is enabled (required for PWA)
5. **Test installation** on various devices

## Additional Resources

- [PWA Builder](https://www.pwabuilder.com/)
- [Web.dev PWA Guide](https://web.dev/progressive-web-apps/)
- [MDN Web App Manifest](https://developer.mozilla.org/en-US/docs/Web/Manifest)

